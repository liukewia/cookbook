(self.webpackChunkcookbook_web=self.webpackChunkcookbook_web||[]).push([[717],{1749:function(g){g.exports={container:"container___13Hif",main:"main___2LFl9",password:"password___3lh5N",getCaptcha:"getCaptcha___3TqEc",submit:"submit___2usjY",login:"login___ed8Ah",success:"success___hwcGl",warning:"warning___2hTnp",error:"error___13kRO","progress-pass":"progress-pass___3Wzx2",progress:"progress___31B6l"}},29552:function(g,p,r){"use strict";r.r(p);var $=r(57663),x=r(60404),k=r(20136),D=r(19181),G=r(47673),l=r(4107),H=r(34669),C=r(32074),Q=r(34792),h=r(48086),d=r(2824),Y=r(9715),u=r(82482),c=r(67294),E=r(48971),T=r(19611),y=r(1749),t=r.n(y),e=r(85893),o=u.Z.Item,W={ok:(0,e.jsx)("div",{className:t().success,children:(0,e.jsx)("span",{children:"Strength: good"})}),pass:(0,e.jsx)("div",{className:t().warning,children:(0,e.jsx)("span",{children:"Strength: moderate"})}),poor:(0,e.jsx)("div",{className:t().error,children:(0,e.jsx)("span",{children:"Strength: poor"})})},R={ok:"success",pass:"normal",poor:"exception"},U=function(X){var I=(0,c.useState)(!1),P=(0,d.Z)(I,2),m=P[0],v=P[1],L=(0,c.useState)(!1),f=(0,d.Z)(L,2),w=f[0],A=f[1],B=!1,j,S=u.Z.useForm(),K=(0,d.Z)(S,1),i=K[0];(0,c.useEffect)(function(){return function(){clearInterval(j)}},[j]);var M=function(){var s=i.getFieldValue("password");return s&&s.length>9?"ok":s&&s.length>5?"pass":"poor"},O=(0,E.QT)(function(n){return{url:"/api/user/register/",method:"POST",data:n}},{manual:!0,onSuccess:function(s,a){s.status==="ok"&&(h.default.success("Successfully signed up!"),E.m8.push("/user/login")),s.status==="error"&&h.default.error("Cannot sign up!")}}),F=O.loading,N=O.run,Z=function(s){N(s)},z=function(s,a){var _=Promise;return a&&a!==i.getFieldValue("password")?_.reject("The passwords entered twice do not match!"):_.resolve()},V=function(s,a){var _=Promise;return a?(m||v(!!a),A(!w),a.length<6?_.reject(""):(a&&B&&i.validateFields(["confirm"]),_.resolve())):(v(!!a),_.reject("Please enter password!"))},b=function(){var s=i.getFieldValue("password"),a=M();return s&&s.length?(0,e.jsx)("div",{className:t()["progress-".concat(a)],children:(0,e.jsx)(C.Z,{status:R[a],className:t().progress,strokeWidth:6,percent:s.length*10>100?100:s.length*10,showInfo:!1})}):null};return(0,e.jsx)("div",{className:t().container,children:(0,e.jsxs)("div",{className:t().main,children:[(0,e.jsx)("h1",{children:"Sign Up"}),(0,e.jsxs)(u.Z,{form:i,name:"UserRegister",onFinish:Z,children:[(0,e.jsx)(o,{name:"username",rules:[{required:!0},{type:"string",message:"Wrong username format!"}],children:(0,e.jsx)(l.Z,{size:"large",placeholder:"Username"})}),(0,e.jsx)(o,{name:"firstName",rules:[{required:!0,message:"Please enter your first name!"},{type:"string",message:"Wrong name format!"}],children:(0,e.jsx)(l.Z,{size:"large",placeholder:"First Name"})}),(0,e.jsx)(o,{name:"lastName",rules:[{required:!0,message:"Please enter your last name!"},{type:"string",message:"Wrong name format!"}],children:(0,e.jsx)(l.Z,{size:"large",placeholder:"Last Name"})}),(0,e.jsx)(o,{name:"email",rules:[{required:!0},{type:"email",message:"Wrong email format!"}],children:(0,e.jsx)(l.Z,{size:"large",placeholder:"Email"})}),(0,e.jsx)(D.Z,{getPopupContainer:function(s){return s&&s.parentNode?s.parentNode:s},content:m&&(0,e.jsxs)("div",{style:{padding:"4px 0"},children:[W[M()],b(),(0,e.jsx)("div",{style:{marginTop:10},children:(0,e.jsx)("span",{children:"Please enter no less than 6 characters."})})]}),overlayStyle:{width:240},placement:"right",visible:m,children:(0,e.jsx)(o,{name:"password",className:i.getFieldValue("password")&&i.getFieldValue("password").length>0&&t().password,rules:[{validator:V}],children:(0,e.jsx)(l.Z,{size:"large",type:"password",placeholder:"Password"})})}),(0,e.jsx)(o,{name:"confirm",rules:[{required:!0,message:"Please confirm password!"},{validator:z}],children:(0,e.jsx)(l.Z,{size:"large",type:"password",placeholder:"Confirm password"})}),(0,e.jsxs)(o,{children:[(0,e.jsx)(x.Z,{size:"large",loading:F,className:t().submit,type:"primary",htmlType:"submit",children:(0,e.jsx)("span",{children:"Sign up"})}),(0,e.jsx)(T.rU,{className:t().login,to:"/user/login",children:(0,e.jsx)("span",{children:"Login with existing account"})})]})]})]})})};p.default=U}}]);
